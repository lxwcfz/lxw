http://10.10.0.246/


2017-07-19
页面实现想法
1. 商品 列表页面和  添加  修改页面在同一个页面
默认是 进入查询所有列表页面  当点击添加 或者修改按钮的时候   查询页面 上滑消失  出现 添加或者 修改页面 ，
当点击  修改 或者 添加完成的时候 或者 面包屑导航的时候 页面重新滑回 列表查询页面

需注重的问题 
2. 关于页面国际化的 解决方法  ---- 待商榷 == （ ）

关于前端页面国际化的问题    前端 配置  导航  类目项 文件 


2017-07-20
页面分类：
分类管理  =》  添加分类 = 修改分类
口味管理  =》  添加口味 = 修改口味
时段管理  =》  添加时段 = 修改时段
导入商品

2017-07-21

路由管理 ---  routes

products (商品总页面) 

products/allList    商品列表查询页面
products/add   添加商品页面
products/update   修改商品页面


products/typeManage   包含列表查询  和 
products/typeManage/add  分类管理添加 
products/typeManage/update   分类管理修改


products/tasteManage    口味查询 页面
products/tasteManage/add   添加口味
products/tasteManage/update   修改口味


products/timeManage    时段查询 页面
products/timeManage/add  时段添加
products/timeManage/update  时段修改



2017-07-24  

本周工作安排：
1.  简单的权限管理页面     附带  新建店铺 和 登陆页面 

2.  商品页面的  增删改 接口对接  

3.  前端路由逻辑的整改 


2017-07-25
vuex  是专为 vue.js 设计的集中状态管理架构。   
 

2017-07-26

 vuex  iwithAdmin 状态管理梳理

 商品列表 (status == 'allList')   商品添加（status == 'addlist'）   商品修改（status == ‘updatelist’）

2017-07-27

//nginx 配置文件位置
    /usr/local/etc/nginx/nginx.conf
//启动nginx 服务
    sudo nginx
//重新加载
    sudo nginx -s reload
//停止服务
    sudo nginx -s stop


cors  跨域资源共享

两种请求simple request(简单请求) 和  not-so-simple request (非简单请求)

简单请求满足一下两个条件
1. 请求方法是以下三种方法  HEAD\GET\POST

2. HTTP 请求头不超出一下几种字段:
    Accept
    Accept-language
    Content-language
    Last-Event-ID
    Content-Type: 只限于三个值  application/x-www-form-urlencoded、multipart/form-data、text/plain

凡是 不同时满足上面两个条件，就属于非简单请求。


对于简单请求，浏览器直接发出CORS请求。具体来说，就是在头信息之中，增加一个Origin字段。


2017-07-31

添加  全局过滤器  文件


2017-08-01

整合封装  axios
    1. 配置通用项
    2. 统一处理请求错误，进行提示
    3. 请求流程 (http://upload-images.jianshu.io/upload_images/1567373-19a87cc33866af01.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
    4. 拦截器 then() 处理响应  catch() 处理错误，通过拦截器可以提前判断，并返回二者之一
    5.  --- 基本配置   包括请求方法，基础url,相对url, 参数，超时时间，请求头等。
        --- checkStatus()  判断http 状态码是否正常，和拦截器一样，请求正常则返回响应，请求错误则返回错误，最后返回结果给checkCode()
        --- checkCode()  处理上一步的结果，分别处理网络异常，以及后端返回的异常。


 面包屑 导航  、  通知提示


 2017-08-02

 axios 整合封装

 2017-08-03



 2017-08-04
 Elasticsearch是一个实时分布式搜索和分析引擎
 https://es.xiaoleilu.com/070_Index_Mgmt/20_Custom_Analyzers.html




2017-08-07

目录结构整理

根据新原型 调整页面的布局

菜品管理 =》
组件划分

    类目管理




2017-08-13
商品属性添加  有问题


2017-08-14
区分 商品分类  和  商品属性  接口

2017-08-15

商品添加 页面梳理

需要放到公共vuex里的 列表

所属目录 

获取配菜列表 （也可以放到是否有配菜的选择事件里）


2017-08-22

商品的修改（需要兄弟组件间的交互） 和  目录查询（根据目录查询列表 也需要跨组件交互）

提案的分组 和增删改查



2017-08-25 （未完成）

http://api.fanyi.baidu.com/api/trans/product/apidoc
百度翻译接口文档

APP ID: 20170825000076961
密钥: Tpx_Gek5zh5CIJ6OJFOY



2017-09-01

店铺管理和运营管理 业务逻辑整体

登录判断当前是否存在cookie  如果cookie 不存在 那么请求 当前登录的用户信息

1.  判断当前登录用户的 登录类型，如果是超级管理员或者运营者账号   页面是运营管理的界面，

如果是店员和店长的账号，页面时 店铺管理的界面

当时店员或店长的权限的时候：
1. 查询当前用户对应的店铺信息  
2. 查询店铺的设备信息
3. 如果是店长账号 可以给 员工分配登录 账号（ 添加用户）,只有店长账号才能看到商家管理界面,
可以查询店员账号列表

当时运营者权限的时候
1.



2017-09-04
问题记录

1.关于时间格式转换的问题 
2.关于订单详情 属性和 配菜循环的问题



2017-09-05 （未完成）

http://www.jb51.net/article/94921.htm   文件断点续传


问题记录 1. 菜品添加和修改的时候需要添加一个 name 字段
        2. 菜品的排序 交换位置 未 改成插入排序 如已改 添加文档
        3. 添加店铺税率 不允许为空



2017-09-08

周末计划： 
1. 前端权限判断的添加     （路由请求 权限判断、 接口请求失败 路由跳转）
2. 前端国际化 配置文件 归总
3. 百度翻译接口的对接调试  （公共翻译的）


2017-09-10

1.需添加 订单的全部列表查询


2017-09-19

1. 添加菜品的标签添加
2. 配菜管理单独提取管理
3. bug  修复
4. 机器人管理   机器人舞蹈修改 待完善


待解决问题 ：   1、 添加类目报 空指针 错误



2017-09-25

1、地址输入框有点太短
2、添加店员功能没有
3、时段怎么自动带出来这么多
4、添加配菜：不要编号、不要介绍、不要图片
5、添加菜品把类目带过去
6、添加店铺的时候默认 添加管理员账号密码
7、取消配菜的ID (菜品编号)


2017-10-09


一致按照系统语言去设置
当登录账号是运营管理员的时候，根据当前浏览器语言选择显示对应语言
当登录账号是店铺管理员的时候根据当前店铺的language 现实语言


2017-10-10
问题记录：
1. 菜单导出异常
2. 类目排序异常
3. 商品排序异常


2017-10-13
0  中文
1  英文
2  日文


国际化翻译和店铺菜品录入的 逻辑整理

1. 判断当前系统语言
2. 判断当前登录用户的类型：
    2.1 如果登录用户是超级管理员，语言还是默认当前系统语言
    2.2 如果当前用户是店铺级别的，根据当前店铺的language 去设置 当前语言，输入菜品信息的时候默认当前
    输入的主语言
    2.3 


2017-10-15
1. 获取套餐内单品报错
2. 标签的翻译后删除 未解决


2017-10-16
1.  菜品的更新  时候翻译问题
2.  提案的翻译 接入
3.  其他页面的中日英字段显示判断


2017-10-18
1.店铺管理员的删除
2.店铺管理员修改店员的账号  只能修改密码

3.时段管理 查询报错


2017-10-19
问题总结：
1. 项目目录放在coron-web 下，再子路由页面 刷新 页面，资源重定向 找不到文件 路径错误
解决办法： 添加  默认base 全局路径
2.  webpack 打包静态资源路径的问题

2017-10-20

1. 运营管理： 舞蹈列表  图片和 音频的显示 
添加舞蹈 时  图片的显示  ， 和 中日英  三种语言名字的添加

2. 检查 添加菜品时 获取配菜数据是否正确


2017-10-23

トマトやチーズを焼きます

Grilled tomatoes and cheese


1. 运维翻译页面   类目  属性 和 提案 页面 无法根据cookies 的 shopid 获取相应的列表

2. 订单详情  数据处理  有些问题  待检查

3. 菜品的查询  不精准 需要修改 （竹翁）

4. 配菜查询  catalogid = -1 的问题， 确认是否需要穿catalogid = -1

5. 提案的 翻译 是不是必须   和peggy 确认



2017-10-25

1. 创建店铺需要添加两个字段   *** 
2. 需要添加  获取SN（机器人唯一标识）的页面
3. 添加套餐悬着单品时，翻页会清空之前选择的菜品( 获取菜品列表时，如果时套餐添加可以查看详情的弹层）


4. iwithdev515   123456    添加开发者权限
5. 时间控件需要检查优化一下
6. script 内 配置文件的替换需要写全局文件
7. 订单交易和提案管理的 翻译

待修复：
1）头部导航中间的“皮肤+第一导航去掉”
2）头部右侧点击头像，切换语言 入口的去掉
3）修改密码，多了个蒙层
4）创建商家税费输入框后面跟上一个%    ****
5）创建商家 定下来语言后，编辑时不可修改语言   ****
6）运营查看菜单时样式有点错乱   ****
7）翻译，把三种语言展示出来，方便校对
8）删除菜品类目时的提醒文案有问题，出来了“提案”   **** 
9）修改菜品时，更改了售卖时间保存后没有生效    **** 
10）配菜-搜索用不了  **** 
11）售卖时间列表目前默认太多了，顶多一个全天的就ok了     (已告知兴虎修改) ****
12）添加菜品，点击保存并添加下一个时，把上一个的类目也带过来，添加更快速些（优先级低）
13）订单详情里商品list 加上属性、配菜、数量、价格字段的展示   ****
14）编辑店铺 除了那个语言不让换，那个商品价格配置方式不可以改（税率可以改）  ****



2017-10-30
1. 添加套餐悬着单品时，翻页会清空之前选择的菜品( 获取菜品列表时，如果时套餐添加可以查看详情的弹层）
2. 商品管理页面  刷新 类目的选择问题  active 和 hash的绑定


2017-11-1

进入系统首次先判断当前系统语言，根据当前系统语言判断当前语言显示并帮语言写入缓存，
登录账号 判断当前用户类型，根据用户类型判断是否是 店铺级别获取店铺语言
0   中文显示  zh-cn   并写入缓存
1   日文显示  ja     并写入缓存
2   英文显示  en    并写入缓存


2017-11-3
sn获取页面  ***
添加sn管理页面 *** 
修改页面样式问题 *** 
修改翻译逻辑问题 ***

2017-11-06
1. 打包后检测下 process    getHost 方法调用是否正常 ***
2. asyns  翻译函数  只改了类目和属性 *** 


2017-11-8
1. 提案 以及 提案组的翻译
2. 菜品描述为空时数据异常

2017-11-8
 ota 和 apk 上传没做校验
 
 this.$message  层级显示问题   ***  
 
 主页图片未显示

 页面刷新   问题   重新加载页面的时候 base 标签未生成  *** 


 2017-11-9
 订单详情交易状态  过滤器

 2017-11-15

 1.添加套餐的时候,点击添加套餐再获取单品
 2.选中单品的时候 只判断当前列表里 是不是已经存在当前菜品
 3.当列表里的单品删除的时候在重新去添加单品

 遗留问题:   
 1.套餐的添加方式
 2. 订单详情的显示
 3. 提示的国际化翻译


 2017-11-24
 问题记录：
 1.添加套餐的时候 单品的选择问题 逻辑需要再整理
 2.修改套餐的时候  删除单品以后 会清空菜品列表
 3.js 内国际化文案的添加



 2017-12-04

 1. 商品管理 菜品列表 的已替换完


 2017-12-05
  1. 时间控件 需要检查一下
  2. 订单管理 交易查询 需要返回 精度信息

  商品管理 提案管理 已纠正完


  2017-12-06

  店铺级别账号 已更新完成

  剩余：
  
  运维账号  和 开发者账号  和 路由导航



  
  2017-12-13
    1. 页面检查
     


2017-12-29

element ui 从1.4 升级到 2.0 版本

（如何从现有版本升级到element UI2.0）
http://blog.csdn.net/wojiaomaxiaoqi/article/details/78428738

高效升级插件
npm-check-updates

安装： npm install -g npm-check-updates
查看最新的版本：npm-check-updates
简写： ncu

ncu -a  升级全部项目中可升级的包


2018-01-10 前新需求

1. CM功能
2. 提案时的七个动作
3. 联系店员时可按住说话，不用文字输入
4. 明星脸
5. 微信支付  (已提供测试账号)
6. 拍照下载后设置相框
7. 店员端编辑菜单
8. 机器人闲聊


2018-01-07

1.  广告音频上传有问题
2.  广告更新有问题
3.  提案动作字段文档没写
4.  动作编号没有做唯一检验

2018-01-31

个性化回复编辑的时候回重新添加一条记录,


2018-02-01

场景参数页面路径
/operation/sceneparam
完成场景参数页面的添加

国际化字段待翻译

参数删除待确认

添加参数的值需要做校验 必须是在大括号里面













  





 





